<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpaceCompress</title>
    <style>
        :root {
            --primary: #00f0ff;
            --secondary: #6a00ff;
            --accent: #ad59b6;
            --dark: #0a0a1a;
            --light: #1a1a2e;
            --gray: #6c757d;
            --text: #e0e0ff;
            --success: #00ffaa;
            --warning: #ff8f00;
            --danger: #ff3860;
            --card-bg: #1a1a2e;
            --border: #30305a;
        }

        .spaceship-tug {
            position: absolute;
            width: 100px;
            height: 30px;
            background: linear-gradient(90deg, #6a00ff, #00f0ff);
            border-radius: 15px;
            right: -150px;
            top: 100px;
            z-index: 20;
            box-shadow: 0 0 20px rgba(0, 240, 255, 0.7);
            transition: right 3s ease-in-out;
        }

        .spaceship-tug::after {
            content: '';
            position: absolute;
            left: -20px;
            top: 5px;
            width: 20px;
            height: 20px;
            background: #ff9e00;
            border-radius: 50%;
            box-shadow: 0 0 15px #ff9e00;
        }

        @keyframes black-hole-explode {
            0% {
                transform: scale(1);
                opacity: 1;
            }

            100% {
                transform: scale(0);
                opacity: 0;
                background: radial-gradient(circle, yellow, red);
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Orbitron', 'Segoe UI', system-ui, sans-serif;
            line-height: 1.5;
            color: var(--text);
            background: var(--dark);
            max-width: 100vw;
            overflow-x: hidden;
            background-image:
                radial-gradient(circle at 10% 20%, rgba(106, 0, 255, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(0, 240, 255, 0.1) 0%, transparent 20%);
        }

        @font-face {
            font-family: 'Orbitron';
            src: url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap');
        }

        .app {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        header {
            text-align: center;
            padding: 40px 0 20px;
            position: relative;
            background: linear-gradient(90deg, transparent, rgba(0, 240, 255, 0.1), transparent);
            border-bottom: 1px solid var(--border);
            margin-bottom: 30px;
        }

        h1 {
            color: var(--primary);
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 0 0 15px rgba(0, 240, 255, 0.5);
            font-weight: 700;
            letter-spacing: 2px;
            position: relative;
            display: inline-block;
            animation: titleGlow 3s infinite;
        }

        @keyframes titleGlow {
            0% {
                text-shadow: 0 0 10px rgba(0, 240, 255, 0.5);
            }

            50% {
                text-shadow: 0 0 20px rgba(0, 240, 255, 0.8);
            }

            100% {
                text-shadow: 0 0 10px rgba(0, 240, 255, 0.5);
            }
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
        }

        .subtitle {
            color: var(--secondary);
            font-size: 1.2rem;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(106, 0, 255, 0.5);
            letter-spacing: 1px;
        }

        .tabs {
            display: flex;
            border-bottom: 1px solid var(--border);
            margin: 20px 0;
            gap: 5px;
            position: relative;
        }

        .tabs::before {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            opacity: 0.3;
        }

        .tab {
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
            border-radius: 8px 8px 0 0;
            background: rgba(48, 48, 90, 0.5);
            color: var(--text);
            font-weight: 500;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }

        .tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 240, 255, 0.2), transparent);
            transition: all 0.3s;
        }

        .tab:hover::before {
            left: 100%;
        }

        .tab.active {
            border-bottom: 3px solid var(--primary);
            background: var(--card-bg);
            color: var(--primary);
        }

        .content {
            flex-grow: 1;
            position: relative;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            border: 1px solid var(--border);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 30%, rgba(0, 240, 255, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(106, 0, 255, 0.05) 0%, transparent 50%);
            pointer-events: none;
        }

        h2 {
            margin-bottom: 20px;
            color: var(--primary);
            font-size: 2rem;
            text-shadow: 0 0 10px rgba(0, 240, 255, 0.3);
            position: relative;
            padding-bottom: 10px;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, var(--primary), transparent);
        }

        h3 {
            color: white;
            margin: 20px 0 15px;
            font-size: 1.5rem;
            text-shadow: 0 0 8px rgba(106, 0, 255, 0.3);
        }

        p,
        li {
            color: var(--text);
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid;
        }

        .alert-danger {
            background: #c823658f;
            border-color: #ff5297;
        }

        .alert-warning {
            background: rgba(106, 0, 255, 0.1);
            border-left: 4px solid var(--secondary);
        }

        .alert-success {
            background: rgba(0, 255, 170, 0.1);
            border-color: var(--success);
        }

        .alert-info {
            background: rgba(0, 240, 255, 0.1);
            border-color: var(--primary);
        }

        .crew-message {
            display: flex;
            align-items: center;
            gap: 20px;
            background: rgba(106, 0, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid var(--secondary);
        }

        .crew-avatar {
            font-size: 2.5em;
            flex-shrink: 0;
        }

        .crew-text {
            flex-grow: 1;
        }

        .crew-name {
            color: var(--primary);
            font-weight: bold;
            margin-bottom: 5px;
        }

        .demo-box {
            margin-top: 25px;
            border: 2px dashed var(--success);
            border-radius: 12px;
            padding: 20px;
            background: rgba(0, 255, 170, 0.05);
            position: relative;
        }

        .demo-box::before {
            content: '–≠–ö–°–ü–ï–†–ò–ú–ï–ù–¢–ê–õ–¨–ù–ê–Ø –ó–û–ù–ê';
            position: absolute;
            top: -10px;
            left: 20px;
            background: var(--card-bg);
            padding: 0 10px;
            font-size: 0.8em;
            color: var(--success);
            letter-spacing: 1px;
        }

        input,
        textarea,
        select,
        button {
            font-family: inherit;
            padding: 12px 18px;
            border: 1px solid var(--border);
            border-radius: 8px;
            margin: 10px 0;
            width: 100%;
            font-size: 1rem;
            background: rgba(48, 48, 90, 0.5);
            color: var(--text);
            transition: all 0.3s;
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(0, 240, 255, 0.3);
        }

        button {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: #0a0a1a;
            border: none;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.3s;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            opacity: 0;
            transition: all 0.3s;
            z-index: -1;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 240, 255, 0.3);
        }

        button:hover::before {
            opacity: 1;
        }

        .result {
            margin-top: 20px;
            padding: 15px;
            background: rgba(48, 48, 90, 0.5);
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            border: 1px solid var(--border);
            min-height: 60px;
            color: var(--text);
            position: relative;
        }

        .result::before {
            content: '–†–ï–ó–£–õ–¨–¢–ê–¢';
            position: absolute;
            top: -10px;
            left: 10px;
            background: var(--card-bg);
            padding: 0 5px;
            font-size: 0.8em;
            color: var(--primary);
        }

        .countdown {
            background: #c823658f;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            margin: 15px 0;
            border-left: 4px solid #ff5297;
        }

        .countdown-timer {
            font-size: 1.8em;
            color: #ff5297;
            font-weight: bold;
            letter-spacing: 2px;
        }

        .countdown-label {
            font-size: 0.8em;
            color: var(--text);
            opacity: 0.8;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–∏—Å—Å–∏–∏ */
        .mission-progress {
            margin: 25px 0;
            position: relative;
        }

        .mission-progress::before {
            content: '–ü–†–û–ì–†–ï–°–° –°–ü–ê–°–ï–ù–ò–Ø';
            position: absolute;
            top: -20px;
            left: 0;
            font-size: 0.8em;
            color: var(--primary);
            letter-spacing: 1px;
        }

        .progress-bar {
            height: 20px;
            background: rgba(48, 48, 90, 0.5);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
            border: 1px solid var(--border);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), var(--secondary));
            width: 10%;
            transition: width 0.5s;
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: progress-shine 2s infinite;
        }

        @keyframes progress-shine {
            0% {
                transform: translateX(-100%);
            }

            100% {
                transform: translateX(100%);
            }
        }

        .progress-text {
            text-align: center;
            font-weight: bold;
            color: var(--primary);
            letter-spacing: 1px;
        }

        .game-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        .spaceship-view {
            position: relative;
            height: 400px;
            background: #0a0a1a;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(2px 2px at 20% 30%, white, rgba(0, 0, 0, 0)),
                radial-gradient(2px 2px at 80% 70%, white, rgba(0, 0, 0, 0)),
                radial-gradient(2px 2px at 40% 20%, white, rgba(0, 0, 0, 0)),
                radial-gradient(2px 2px at 60% 90%, white, rgba(0, 0, 0, 0)),
                radial-gradient(2px 2px at 30% 50%, white, rgba(0, 0, 0, 0)),
                radial-gradient(2px 2px at 70% 30%, white, rgba(0, 0, 0, 0));
        }

        .spaceship {
            position: absolute;
            left: 20px;
            top: 20px;
            width: 80px;
            height: 40px;
            background: var(--secondary);
            border-radius: 20px 50px 50px 20px;
            z-index: 10;
            transform: rotate(45deg);
            transform-origin: center center;
            transition: left 0.05s linear, top 0.05s linear;
            box-shadow: 0 0 15px rgba(106, 0, 255, 0.5);
        }

        .spaceship .window {
            position: absolute;
            top: 10px;
            right: 20px;
            width: 20px;
            height: 20px;
            background: var(--primary);
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(0, 240, 255, 0.8);
        }

        .spaceship .engine {
            position: absolute;
            left: -10px;
            top: 15px;
            width: 10px;
            height: 10px;
            background: var(--accent);
            border-radius: 50%;
            box-shadow: 0 0 15px var(--accent);
            animation: engine-pulse 0.5s infinite alternate;
        }

        .engine-fire {
            position: absolute;
            left: -25px;
            top: 10px;
            width: 20px;
            height: 10px;
            background: linear-gradient(90deg, var(--accent), #ff9e00);
            border-radius: 50% 10px 10px 50%;
            filter: blur(2px);
            animation: fire-pulse 0.1s infinite alternate;
            box-shadow: 0 0 10px var(--accent);
        }

        .trail {
            position: absolute;
            width: 6px;
            height: 6px;
            background: linear-gradient(to right, var(--accent), var(--primary));
            border-radius: 50%;
            filter: blur(1px);
            z-index: 2;
            pointer-events: none;
        }

        @keyframes fire-pulse {
            0% {
                transform: scaleX(0.9);
                opacity: 0.8;
            }

            100% {
                transform: scaleX(1.1);
                opacity: 1;
            }
        }

        .explosion {
            position: absolute;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255, 0, 160, 0.8), transparent 70%);
            animation: explode 1s forwards;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        @keyframes explode {
            0% {
                width: 0;
                height: 0;
                opacity: 1;
            }

            100% {
                width: 200px;
                height: 200px;
                opacity: 0;
            }
        }

        .space-station {
            position: absolute;
            bottom: 50px;
            right: 50px;
            width: 120px;
            height: 120px;
            z-index: 5;
        }

        .station-core {
            position: absolute;
            width: 40px;
            height: 40px;
            background: var(--primary);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 20px rgba(0, 240, 255, 0.7);
        }

        .station-ring {
            position: absolute;
            width: 100px;
            height: 100px;
            border: 3px solid var(--accent);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 15px rgba(173, 89, 182, 0.7);
        }

        .station-dock {
            position: absolute;
            width: 20px;
            height: 30px;
            background: var(--secondary);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(45deg);
            border-radius: 5px;
        }

        .rescue-success {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(10, 10, 26, 0.95);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--success);
            box-shadow: 0 0 30px var(--success);
            text-align: center;
            z-index: 100;
            max-width: 80%;
        }

        .rescue-success h2 {
            color: var(--success);
            margin-bottom: 15px;
        }

        .rescue-stats {
            background: rgba(0, 255, 170, 0.1);
            padding: 10px;
            border-radius: 8px;
            border-left: 4px solid var(--success);
            margin: 15px 0;
        }

        .black-hole {
            position: absolute;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, transparent 30%, rgba(0, 0, 0, 0.8) 70%);
            border-radius: 50%;
            left: 70%;
            top: 30%;
            animation: pulse 2s infinite;
            z-index: 4;
        }

        @keyframes pulse {
            0% {
                transform: scale(0.95);
                opacity: 0.7;
            }

            50% {
                transform: scale(1.05);
                opacity: 1;
            }

            100% {
                transform: scale(0.95);
                opacity: 0.7;
            }
        }

        .mission-files {
            display: flex;
            flex-direction: column;
        }

        .file-list {
            flex-grow: 1;
        }

        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin-bottom: 15px;
            background: rgba(48, 48, 90, 0.5);
            border-radius: 8px;
            border: 1px solid var(--border);
            transition: all 0.3s;
        }

        .file-item:hover {
            background: rgba(0, 240, 255, 0.1);
            border-color: var(--primary);
        }

        .file-info {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-grow: 1;
        }

        .file-icon {
            font-size: 1.2em;
            color: var(--primary);
        }

        .file-name {
            font-weight: bold;
            flex-grow: 1;
        }

        .file-size {
            color: var(--gray);
            font-size: 0.9em;
        }

        .compression-select {
            width: 150px;
            padding: 10px;
            background: rgba(48, 48, 90, 0.5);
            color: white;
            border: 1px solid var(--border);
            border-radius: 6px;
            transition: all 0.3s;
        }

        .compression-select:hover {
            border-color: var(--primary);
        }

        .compression-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(0, 240, 255, 0.3);
        }

        .mission-message {
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            background: rgba(106, 0, 255, 0.2);
            border: 1px solid var(--secondary);
            font-weight: bold;
            transition: all 0.3s;
        }

        .launch-btn {
            background: linear-gradient(135deg, var(--accent), var(--secondary));
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 20px;
            position: relative;
            overflow: hidden;
        }

        .launch-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            opacity: 0;
            transition: all 0.3s;
        }

        .launch-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 0, 160, 0.3);
        }

        .launch-btn:hover::before {
            opacity: 1;
        }

        .launch-btn:disabled {
            background: var(--gray);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .launch-btn:disabled:hover::before {
            opacity: 0;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes float {
            0% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }

            100% {
                transform: translateY(0);
            }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ */
        .algorithm-explanation {
            background: rgba(0, 240, 255, 0.05);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 1px solid var(--border);
            position: relative;
        }

        .algorithm-explanation::before {
            content: '–ê–ù–ê–õ–ò–ó –ê–õ–ì–û–†–ò–¢–ú–ê';
            position: absolute;
            top: -10px;
            left: 20px;
            background: var(--card-bg);
            padding: 0 10px;
            font-size: 0.8em;
            color: var(--primary);
            letter-spacing: 1px;
        }

        .algorithm-steps {
            padding-left: 25px;
            margin: 15px 0;
        }

        .algorithm-steps li {
            margin-bottom: 12px;
            position: relative;
        }

        .algorithm-steps li::before {
            position: absolute;
            left: -20px;
            color: var(--primary);
        }

        /* –î–µ—Ä–µ–≤–æ –•–∞—Ñ—Ñ–º–∞–Ω–∞ */
        .tree-node {
            position: absolute;
            width: 50px;
            height: 50px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 2;
            box-shadow: 0 0 10px rgba(106, 0, 255, 0.5);
            font-weight: bold;
        }

        .tree-node.leaf {
            background: var(--accent);
            box-shadow: 0 0 10px rgba(255, 0, 160, 0.5);
        }

        #huffman-tree-container {
            position: relative;
            height: 400px;
            margin: 30px 0;
            overflow: visible;
            background: rgba(0, 240, 255, 0.05);
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .tree-connector {
            position: absolute;
            top: -20px;
            left: 50%;
            width: 2px;
            height: 20px;
            background: var(--gray);
        }

        .tree-code {
            font-size: 0.8em;
            color: var(--secondary);
            margin-top: 5px;
        }

        .tree-branch {
            position: absolute;
            top: -20px;
            width: 2px;
            height: 20px;
            background: var(--gray);
        }

        .tree-branch.left {
            left: 50%;
            transform: translateX(-50%) rotate(-30deg);
            transform-origin: bottom;
        }

        .tree-branch.right {
            right: 50%;
            transform: translateX(50%) rotate(30deg);
            transform-origin: bottom;
        }

        code {
            background: rgba(0, 240, 255, 0.1);
            padding: 3px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: var(--accent);
            border: 1px solid rgba(255, 0, 160, 0.3);
        }

        @media (max-width: 768px) {
            .game-container {
                grid-template-columns: 1fr;
            }

            .spaceship-view {
                height: 250px;
            }
        }

        .sci-fi-effect {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            opacity: 0.1;
            background:
                radial-gradient(circle at 20% 30%, var(--primary), transparent 30%),
                radial-gradient(circle at 80% 70%, var(--secondary), transparent 30%);
        }

        .mission-briefing {
            background: rgba(0, 240, 255, 0.05);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }

        .mission-objectives {
            margin: 20px 0;
        }

        .objective {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 15px;
        }

        .objective-icon {
            font-size: 1.5em;
            color: var(--primary);
            flex-shrink: 0;
        }

        .objective-text {
            flex-grow: 1;
        }

        .objective-completed {
            color: var(--success);
        }
        .hidden {
    display: none !important;
}

.image-preview {
    width: 100%;
    height: 200px;
    border: 1px solid var(--border);
    border-radius: 8px;
    overflow: hidden;
    margin-bottom: 10px;
    background-color: var(--dark);
    display: flex;
    align-items: center;
    justify-content: center;
}

.image-preview img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

.result-container {
    margin-top: 20px;
    padding: 15px;
    background: rgba(48, 48, 90, 0.3);
    border-radius: 8px;
    border: 1px solid var(--border);
}

input[type="range"] {
    width: 100%;
    height: 8px;
    background: var(--light);
    border-radius: 4px;
    margin: 10px 0;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    background: var(--primary);
    border-radius: 50%;
    cursor: pointer;
}
    </style>
</head>

<body>
    <div class="sci-fi-effect"></div>
    <div class="app">
        <header>
            <h1>SpaceCompress</h1>
            <p class="subtitle">–ú–∏—Å—Å–∏—è: –°–ø–∞—Å–µ–Ω–∏–µ —Å—Ç–∞–Ω—Ü–∏–∏ "–ú—è—É—Ä–∏–Ω–µ—Ä"</p>
        </header>

        <div class="tabs">
            <div class="tab active" data-tab="home">–¶–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</div>
            <div class="tab" data-tab="rle">RLE-–∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä</div>
            <div class="tab" data-tab="huffman">–ö–æ–¥–µ—Ä –•–∞—Ñ—Ñ–º–∞–Ω–∞</div>
            <div class="tab" data-tab="lzw">LZW-–∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä</div>
            <div class="tab" data-tab="images">–û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</div>
            <div class="tab" data-tab="game">–û–ø–µ—Ä–∞—Ü–∏—è "–°–ø–∞—Å–µ–Ω–∏–µ"</div>
        </div>

        <div class="content">
            <!-- –¶–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
            <div id="home" class="tab-content active">
                <div class="card">
                    <h2>–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è</h2>

                    <div class="alert alert-danger">
                        <h3>–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:</h3>
                        <p>–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è —Å—Ç–∞–Ω—Ü–∏—è "–ú—è—É—Ä–∏–Ω–µ—Ä", –¥—Ä–µ–π—Ñ—É—é—â–∞—è –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ –°–æ–ª–Ω–µ—á–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã, –ø–æ–ø–∞–ª–∞ –≤ —Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ–µ
                            –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω–æ–µ –ø–æ–ª–µ —á—ë—Ä–Ω–æ–π –¥—ã—Ä—ã. –ü–æ—Å–ª–µ–¥–Ω–µ–µ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç —ç–∫–∏–ø–∞–∂–∞:</p>
                        <p
                            style="font-family: 'Courier New', monospace; background: rgba(0,0,0,0.3); padding: 10px; border-left: 3px solid #ff5297;">
                            "–°–ò–°–¢–ï–ú–´... –°–ë–û–ô... –î–ê–ù–ù–´–ï... –ü–ï–†–ï–ì–†–£–ó... –ù–£–ñ–ù–´ –ê–õ–ì–û–†–ò–¢–ú–´... –°–ñ–ê–¢–ò–Ø... –°–ü–ê–°–¢–ò..."
                        </p>
                    </div>

                    <div class="crew-message">
                        <div class="crew-avatar">üë®‚ÄçüöÄ</div>
                        <div class="crew-text">
                            <div class="crew-name">–ö–∞–ø–∏—Ç–∞–Ω –ú—É—Ä–∫–æ–≤:</div>
                            <p>"–û—Å–Ω–æ–≤–Ω–æ–π –¥–≤–∏–≥–∞—Ç–µ–ª—å –ø–æ–≤—Ä–µ–∂–¥—ë–Ω, –∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –Ω–µ —Å–ø—Ä–∞–≤–∏—Ç—Å—è –±–µ–∑ —Ç–æ—á–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤ —Å –ó–µ–º–ª–∏. –ë–µ–∑
                                —Ç–æ—á–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –±—É–∫—Å–∏—Ä–æ–≤–æ—á–Ω—ã–π –º–∞–Ω—ë–≤—Ä –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω. –£ –Ω–∞—Å –µ—Å—Ç—å –≤—Å–µ–≥–æ 47 –º–∏–Ω—É—Ç –¥–æ —Ç–æ–≥–æ, –∫–∞–∫
                                —Å—Ç–∞–Ω—Ü–∏—é –ø–æ–≥–ª–æ—Ç–∏—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç —Å–æ–±—ã—Ç–∏–π. –ö–∞–Ω–∞–ª —Å–≤—è–∑–∏ –∏–∑-–∑–∞ –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø–æ–º–µ—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–æ
                                –Ω–∞ 5% –º–æ—â–Ω–æ—Å—Ç–∏. –ë–µ–∑ —Å–∂–∞—Ç–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥–∞—á–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –∑–∞–π–º—ë—Ç 3 —á–∞—Å–∞ ‚Äî
                                —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ, –Ω–∞—Å —É–∂–µ –Ω–µ —Å–ø–∞—Å—É—Ç. –í–∞—à–∞ –ø–æ–º–æ—â—å ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —à–∞–Ω—Å —Å–ø–∞—Å—Ç–∏ —ç–∫–∏–ø–∞–∂!"</p>
                        </div>
                    </div>

                    <div class="mission-briefing">
                        <h3>–ë—Ä–∏—Ñ–∏–Ω–≥ –º–∏—Å—Å–∏–∏:</h3>
                        <p>–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è —Å—Ç–∞–Ω—Ü–∏—è "–ú—è—É—Ä–∏–Ω–µ—Ä" —Å —ç–∫–∏–ø–∞–∂–µ–º –∏–∑ 12 —á–µ–ª–æ–≤–µ–∫ –æ–∫–∞–∑–∞–ª–∞—Å—å –≤ –ª–æ–≤—É—à–∫–µ —á—ë—Ä–Ω–æ–π –¥—ã—Ä—ã.
                            –°–∏—Å—Ç–µ–º—ã —Å—Ç–∞–Ω—Ü–∏–∏ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω—ã, –∞ –∫–∞–Ω–∞–ª—ã —Å–≤—è–∑–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å—é.


                        </p>
                        <p>–í–∞—à–∞ –∑–∞–¥–∞—á–∞: –û—Å–≤–æ–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Å–∂–∞—Ç–∏—è –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã —Å–ø–∞—Å—Ç–∏ —ç–∫–∏–ø–∞–∂ –∏ –ø–µ—Ä–µ–¥–∞—Ç—å
                            –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Å–ø–∞—Å–∞—Ç–µ–ª—å–Ω–æ–π —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏.</p>
                    </div>

                    <div class="mission-objectives">
                        <h3>–¶–µ–ª–∏ –º–∏—Å—Å–∏–∏:</h3>
                        <div class="objective">
                            <div class="objective-icon">üîç</div>
                            <div class="objective-text">–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ –ª–æ–≥–∏ —Å—Ç–∞–Ω—Ü–∏–∏ (RLE-–∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä)
                            </div>
                        </div>
                        <div class="objective">
                            <div class="objective-icon">üì°</div>
                            <div class="objective-text">–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥–∞—á—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (–ö–æ–¥–µ—Ä –•–∞—Ñ—Ñ–º–∞–Ω–∞)</div>
                        </div>
                        <div class="objective">
                            <div class="objective-icon">üñºÔ∏è</div>
                            <div class="objective-text">–°–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á—ë—Ä–Ω–æ–π –¥—ã—Ä—ã (–û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)</div>
                        </div>
                        <div class="objective">
                            <div class="objective-icon">üöÄ</div>
                            <div class="objective-text">–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–ø–∞—Å–∞—Ç–µ–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ (LZW-–∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä)
                            </div>
                        </div>
                    </div>

                    <div class="countdown">
                        <div class="countdown-timer" id="global-countdown">47:00</div>
                        <div class="countdown-label">–î–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–ª–∏–∂–µ–Ω–∏—è —Å —á—ë—Ä–Ω–æ–π –¥—ã—Ä–æ–π</div>
                    </div>

                    <div class="alert alert-info">
                        <h3>–°–æ–≤–µ—Ç –∏–Ω–∂–µ–Ω–µ—Ä–∞:</h3>
                        <p>–ù–∞—á–Ω–∏—Ç–µ —Å RLE-–∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä–∞ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã—Ö –ª–æ–≥–æ–≤. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç
                            –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.</p>
                    </div>
                </div>
            </div>

            <!-- RLE -->
            <div id="rle" class="tab-content">
                <div class="card">
                    <h2>RLE-–∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä</h2>

                    <div class="crew-message">
                        <div class="crew-avatar">üë©‚Äçüî¨</div>
                        <div class="crew-text">
                            <div class="crew-name">–ò–Ω–∂–µ–Ω–µ—Ä –ü–µ—Ç—Ä–æ–≤–∞:</div>
                            <p>"–¢—Ä–µ–≤–æ–≥–∞! –î–≤–∏–≥–∞—Ç–µ–ª—å ‚Ññ3 –ø–µ—Ä–µ–≥—Ä–µ–≤–∞–µ—Ç—Å—è, —Å–∏—Å—Ç–µ–º–∞ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è –Ω–∞ –ø—Ä–µ–¥–µ–ª–µ! –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ
                                —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ: 2222222222555555553333. –ù–∞–º —Å—Ä–æ—á–Ω–æ –Ω—É–∂–Ω–æ —Å–∂–∞—Ç—å —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —á—Ç–æ–±—ã —É—Å–ø–µ—Ç—å
                                –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ—ë –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤–∞—Ä–∏–π–Ω–æ–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ. –ï—Å–ª–∏ –º—ã –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º
                                –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å, –º—ã –ø–æ—Ç–µ—Ä—è–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ!"</p>
                        </div>
                    </div>

                    <div class="algorithm-explanation">
                        <h3>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã RLE:</h3>
                        <ol class="algorithm-steps">
                            <li>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –ø–æ–∫–∞–∑–∞–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 00000)</li>
                            <li>–ó–∞–º–µ–Ω—è–µ—Ç –∏—Ö –Ω–∞ –ø–∞—Ä—É "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ-–∑–Ω–∞—á–µ–Ω–∏–µ" (50)</li>
                            <li>–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏ –ª–æ–≥–æ–≤</li>
                        </ol>

                        <h3>–ü—Ä–∏–º–µ—Ä –∏–∑ –±–æ—Ä—Ç–æ–≤–æ–≥–æ –∂—É—Ä–Ω–∞–ª–∞:</h3>
                        <p>–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: <code>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 2222222222555555553333</code></p>
                        <p>–ü–æ—Å–ª–µ —Å–∂–∞—Ç–∏—è: <code>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 92 85 43</code></p>
                        <p>–≠–∫–æ–Ω–æ–º–∏—è: 24 —Å–∏–º–≤–æ–ª–∞ ‚Üí 14 —Å–∏–º–≤–æ–ª–æ–≤ (—ç–∫–æ–Ω–æ–º–∏—è 42%)</p>
                    </div>

                    <div class="demo-box">
                        <h3>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–æ–≤:</h3>
                        <textarea id="rle-input"
                            placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–∞—Ç—á–∏–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ê–ê–ê–ë–ë–í–í–ì–ì–ì–ì)">2222222222555555553333</textarea>
                        <button onclick="runRLE()">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä</button>
                        <div class="result" id="rle-result"></div>
                    </div>
                </div>
            </div>

            <!-- –•–∞—Ñ—Ñ–º–∞–Ω -->
            <div id="huffman" class="tab-content">
                <div class="card">
                    <h2>–ö–æ–¥–µ—Ä –•–∞—Ñ—Ñ–º–∞–Ω–∞</h2>

                    <div class="crew-message">
                        <div class="crew-avatar">üë®‚Äçüíª</div>
                        <div class="crew-text">
                            <div class="crew-name">–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ —Å–≤—è–∑–∏ –ò–≤–∞–Ω–æ–≤:</div>
                            <p>"–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —á—ë—Ä–Ω–æ–π –¥—ã—Ä—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –¥–ª—è —Å–ø–∞—Å–∞—Ç–µ–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏. –ö–∞–Ω–∞–ª —Å–≤—è–∑–∏
                                –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω ‚Äî –∫–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ, –∫–∞–∂–¥—ã–π –±–∏—Ç –Ω–∞ –≤–µ—Å –∑–æ–ª–æ—Ç–∞! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∞–º–æ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ
                                –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, —á—Ç–æ–±—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ—à–ª–∞ –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫. –°—É–¥—å–±–∞ –≤—Å–µ–π –º–∏—Å—Å–∏–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —ç—Ç–æ–≥–æ!"
                            </p>
                        </div>
                    </div>

                    <div class="algorithm-explanation">
                        <h3>–ö–∞–∫ —Å—Ç—Ä–æ–∏—Ç—Å—è –¥–µ—Ä–µ–≤–æ –•–∞—Ñ—Ñ–º–∞–Ω–∞:</h3>
                        <ol class="algorithm-steps">
                            <li>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —á–∞—Å—Ç–æ—Ç–∞ —Å–∏–º–≤–æ–ª–æ–≤ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏</li>
                            <li>–ö–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª–∏—Å—Ç–æ–º –¥–µ—Ä–µ–≤–∞ —Å –µ–≥–æ —á–∞—Å—Ç–æ—Ç–æ–π</li>
                            <li>–°–æ–µ–¥–∏–Ω—è—é—Ç—Å—è –¥–≤–∞ —É–∑–ª–∞ —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º–∏ —á–∞—Å—Ç–æ—Ç–∞–º–∏</li>
                            <li>–ü—Ä–æ—Ü–µ—Å—Å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –¥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –µ–¥–∏–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞</li>
                            <li>–õ–µ–≤—ã–º –≤–µ—Ç–≤—è–º –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è 0, –ø—Ä–∞–≤—ã–º ‚Äî 1</li>
                            <li>–ö–æ–¥ —Å–∏–º–≤–æ–ª–∞ ‚Äî —ç—Ç–æ –ø—É—Ç—å –æ—Ç –∫–æ—Ä–Ω—è –∫ –ª–∏—Å—Ç—É</li>
                        </ol>
                    </div>

                    <div class="demo-box">
                        <h3>–ü–æ—Å—Ç—Ä–æ–π—Ç–µ –¥–µ—Ä–µ–≤–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è:</h3>
                        <div id="huffman-inputs">
                            <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                                <input type="text" placeholder="–°–∏–º–≤–æ–ª" maxlength="1" class="huffman-char" value="–ê">
                                <input type="number" placeholder="–ß–∞—Å—Ç–æ—Ç–∞" min="1" class="huffman-freq" value="5">
                            </div>
                            <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                                <input type="text" placeholder="–°–∏–º–≤–æ–ª" maxlength="1" class="huffman-char" value="–ë">
                                <input type="number" placeholder="–ß–∞—Å—Ç–æ—Ç–∞" min="1" class="huffman-freq" value="2">
                            </div>
                            <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                                <input type="text" placeholder="–°–∏–º–≤–æ–ª" maxlength="1" class="huffman-char" value="–í">
                                <input type="number" placeholder="–ß–∞—Å—Ç–æ—Ç–∞" min="1" class="huffman-freq" value="1">
                            </div>
                        </div>
                        <button onclick="addHuffmanRow()" style="background: var(--gray); margin-bottom: 15px;">+
                            –î–æ–±–∞–≤–∏—Ç—å —Å–∏–º–≤–æ–ª</button>
                        <button onclick="buildHuffmanTree()">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–µ—Ä–µ–≤–æ</button>

                        <div class="tree-container" id="huffman-tree-container">
                            <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç –¥–µ—Ä–µ–≤–æ -->
                        </div>

                        <div class="result" id="huffman-codes"></div>

                        <h3>–ó–∞–∫–æ–¥–∏—Ä—É–π—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:</h3>
                        <textarea id="huffman-text" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è">–ê–ê–ê–ê–ê–ë–ë–í</textarea>
                        <button onclick="encodeHuffmanText()">–ù–∞—á–∞—Ç—å –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
                        <div class="result" id="huffman-text-result"></div>
                    </div>
                </div>
            </div>

            <!-- LZW -->
            <div id="lzw" class="tab-content">
                <div class="card">
                    <h2>LZW-–∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä</h2>

                    <div class="crew-message">
                        <div class="crew-avatar">üë©‚ÄçüöÄ</div>
                        <div class="crew-text">
                            <div class="crew-name">–ë–æ—Ä—Ç–∏–Ω–∂–µ–Ω–µ—Ä –°–æ–∫–æ–ª–æ–≤–∞:</div>
                            <p>"–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–∞–Ω—É–∞–ª—ã ‚Äî —ç—Ç–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ –≤–∞–∂–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –Ω–æ –æ–Ω–∏ –∑–∞–Ω–∏–º–∞—é—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ
                                –ø–∞–º—è—Ç–∏. –ù–∞–º —Å—Ä–æ—á–Ω–æ –Ω—É–∂–Ω–æ —Å–∂–∞—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –º–µ—Å—Ç–æ –¥–ª—è —Ä–∞—Å—á—ë—Ç–æ–≤
                                —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ —Å–ø–∞—Å–µ–Ω–∏—è. –ë–µ–∑ —ç—Ç–æ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏—è –æ–±—Ä–µ—á–µ–Ω–∞ –Ω–∞ –ø—Ä–æ–≤–∞–ª!"</p>
                        </div>
                    </div>

                    <div class="algorithm-explanation">
                        <h3>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç LZW ‚Äî –ø—Ä–∏–º–µ—Ä –¥–ª—è "–¢–û–¢_–¢–ê–ö_–¢–û–¢_–¢–ê–ö":</h3>
                        <ol class="algorithm-steps">
                            <li><strong>–ù–∞—á–∞–ª—å–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å:</strong> –¢=275, –û=271, _=95, –ê=256, –ö=267</li>
                            <li><strong>–®–∞–≥ 1:</strong> "–¢" –µ—Å—Ç—å ‚Üí "–¢–û" –¥–æ–±–∞–≤–ª—è–µ–º (322=–¢–û), –≤—ã–≤–æ–¥–∏–º 275.</li>
                            <li><strong>–®–∞–≥ 2:</strong> "–û" –µ—Å—Ç—å ‚Üí "–û–¢" –¥–æ–±–∞–≤–ª—è–µ–º (323=–û–¢), –≤—ã–≤–æ–¥–∏–º 271.</li>
                            <li><strong>–®–∞–≥ 3:</strong> "–¢" –µ—Å—Ç—å ‚Üí "–¢_" –¥–æ–±–∞–≤–ª—è–µ–º (324=–¢_), –≤—ã–≤–æ–¥–∏–º 275.</li>
                            <li><strong>–®–∞–≥ 4:</strong> "_" –µ—Å—Ç—å ‚Üí "_–¢" –¥–æ–±–∞–≤–ª—è–µ–º (325=_–¢), –≤—ã–≤–æ–¥–∏–º 95.</li>
                            <li><strong>–®–∞–≥ 5:</strong> "–¢" –µ—Å—Ç—å ‚Üí "–¢–ê" –¥–æ–±–∞–≤–ª—è–µ–º (326=–¢–ê), –≤—ã–≤–æ–¥–∏–º 275.</li>
                            <li><strong>–®–∞–≥ 6:</strong> "–ê" –µ—Å—Ç—å ‚Üí "–ê–ö" –¥–æ–±–∞–≤–ª—è–µ–º (327=–ê–ö), –≤—ã–≤–æ–¥–∏–º 256.</li>
                            <li><strong>–®–∞–≥ 7:</strong> "–ö" –µ—Å—Ç—å ‚Üí "–ö_" –¥–æ–±–∞–≤–ª—è–µ–º (328=–ö_), –≤—ã–≤–æ–¥–∏–º 267.</li>
                            <li><strong>–®–∞–≥ 8:</strong> "_–¢" –µ—Å—Ç—å ‚Üí "_–¢–û" –¥–æ–±–∞–≤–ª—è–µ–º (329=_–¢–û), –≤—ã–≤–æ–¥–∏–º 325.</li>
                            <li><strong>–®–∞–≥ 9:</strong> "–û–¢" –µ—Å—Ç—å ‚Üí "–û–¢_" –¥–æ–±–∞–≤–ª—è–µ–º (330=–û–¢_), –≤—ã–≤–æ–¥–∏–º 323.</li>
                            <li><strong>–®–∞–≥ 10:</strong> "_–¢" –µ—Å—Ç—å ‚Üí "_–¢–ê" –¥–æ–±–∞–≤–ª—è–µ–º (331=_–¢–ê), –≤—ã–≤–æ–¥–∏–º 325.</li>
                            <li><strong>–®–∞–≥ 11:</strong> "–ê–ö" –µ—Å—Ç—å, –≤—ã–≤–æ–¥–∏–º 327.</li>
                            <li><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> 275 271 275 95 275 256 267 325 323 325 327</li>
                        </ol>
                    </div>

                    <div class="demo-box">
                        <h3>–ê—Ä—Ö–∏–≤–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:</h3>
                        <textarea id="lzw-input"
                            placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¢–û–¢_–¢–ê–ö_–¢–û–¢_–¢–ê–ö)">–¢–û–¢_–¢–ê–ö_–¢–û–¢_–¢–ê–ö</textarea>
                        <button onclick="runLZW()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä</button>
                        <div class="result" id="lzw-result"></div>

                        <h3>–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å–ª–æ–≤–∞—Ä—å:</h3>
                        <div id="lzw-dict" class="result"></div>
                    </div>
                </div>
            </div>

            <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
            <div id="images" class="tab-content">
                <div class="card">
                    <h2>–û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</h2>

                    <div class="crew-message">
                        <div class="crew-avatar">üë®‚Äçüîß</div>
                        <div class="crew-text">
                            <div class="crew-name">–¢–µ—Ö–Ω–∏–∫ –í–æ–ª–∫–æ–≤:</div>
                            <p>"–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —á—ë—Ä–Ω–æ–π –¥—ã—Ä—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã, –Ω–æ –∑–∞–Ω–∏–º–∞—é—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞. –ù–∞–º –Ω–∞–¥–æ –Ω–∞–π—Ç–∏
                                –∏–¥–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫–∞—á–µ—Å—Ç–≤–æ–º –∏ —Ä–∞–∑–º–µ—Ä–æ–º, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –Ω–∏ –æ–¥–Ω–æ–π –¥–µ—Ç–∞–ª–∏!"</p>
                        </div>
                    </div>

                    <div class="algorithm-explanation">
                        <h3>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Å–∂–∞—Ç–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:</h3>
                        <ol class="algorithm-steps">
                            <li><strong>PNG (–±–µ–∑ –ø–æ—Ç–µ—Ä—å):</strong>
                                <ul>
                                    <li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å—Ö–µ–º –∏ —á–µ—Ä—Ç–µ–∂–µ–π –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö –∞–ø–ø–∞—Ä–∞—Ç–æ–≤</li>
                                    <li>–ü—Ä–∏–º–µ–Ω—è–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—ã LZW –∏ DEFLATE</li>
                                    <li>–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ç–æ—á–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–µ—Ç–∞–ª–µ–π</li>
                                </ul>
                            </li>
                            <li><strong>JPEG (—Å –ø–æ—Ç–µ—Ä—è–º–∏):</strong>
                                <ul>
                                    <li>–û–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –ø–ª–∞–Ω–µ—Ç –∏ –∑–≤—ë–∑–¥</li>
                                    <li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∏—Å–∫—Ä–µ—Ç–Ω–æ–µ –∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</li>
                                    <li>–î–æ–ø—É—Å–∫–∞–µ—Ç –ø–æ—Ç–µ—Ä—é –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ—Ç–∞–ª–µ–π</li>
                                </ul>
                            </li>
                            <li><strong>WebP (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç):</strong>
                                <ul>
                                    <li>–°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö —Å—Ç–∞–Ω—Ü–∏–π</li>
                                    <li>–ù–∞ 30% —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ JPEG –ø—Ä–∏ —Ç–æ–º –∂–µ –∫–∞—á–µ—Å—Ç–≤–µ</li>
                                    <li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∏ –∞–Ω–∏–º–∞—Ü–∏—é</li>
                                </ul>
                            </li>
                        </ol>
                    </div>

                     <div class="demo-box">
            <h3>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</h3>
            <div class="image-upload" style="margin-bottom: 15px;">
                <label for="image-upload" style="display: block; margin-bottom: 10px; color: var(--primary);">–í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á—ë—Ä–Ω–æ–π –¥—ã—Ä—ã:</label>
                <input type="file" id="image-upload" accept="image/*" style="padding: 8px; border: 1px dashed var(--primary);">
            </div>

            <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                <div style="flex: 1;">
                    <label for="compression-type" style="display: block; margin-bottom: 5px; color: var(--primary);">–¢–∏–ø —Å–∂–∞—Ç–∏—è:</label>
                    <select id="compression-type" class="compression-select">
                        <option value="png">PNG (–¥–ª—è —á–µ—Ä—Ç–µ–∂–µ–π –∏ —Å—Ö–µ–º)</option>
                        <option value="jpeg">JPEG (–¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∫–æ—Å–º–æ—Å–∞)</option>
                        <option value="webp">WebP (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç)</option>
                    </select>
                </div>
                <div style="flex: 1;" id="quality-container" class="hidden">
                    <label for="quality" style="display: block; margin-bottom: 5px; color: var(--primary);">–ö–∞—á–µ—Å—Ç–≤–æ (1-100):</label>
                    <input type="range" id="quality" min="1" max="100" value="80" class="compression-select">
                    <span id="quality-value">80%</span>
                </div>
            </div>

            <button onclick="compressImage()">–ù–∞—á–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é</button>
            
            <div class="result-container hidden" id="result-container">
                <div style="display: flex; gap: 20px; margin-top: 20px;">
                    <div style="flex: 1;">
                        <h4>–ò—Å—Ö–æ–¥–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</h4>
                        <div class="image-preview" id="original-preview"></div>
                        <div id="original-size"></div>
                    </div>
                    <div style="flex: 1;">
                        <h4>–°–∂–∞—Ç–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</h4>
                        <div class="image-preview" id="compressed-preview"></div>
                        <div id="compressed-size"></div>
                    </div>
                </div>
                <button onclick="downloadCompressedImage()" style="margin-top: 15px;">
                    <span style="margin-right: 8px;">‚¨áÔ∏è</span> –°–∫–∞—á–∞—Ç—å —Å–∂–∞—Ç–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                </button>
                <div class="result" id="image-result"></div>
            </div>
        </div>
    </div>
</div>

            <!-- –ò–≥—Ä–∞ -->
            <div id="game" class="tab-content">
                <div class="card">
                    <h2>–û–ø–µ—Ä–∞—Ü–∏—è "–°–ø–∞—Å–µ–Ω–∏–µ"</h2>

                    <div class="alert alert-warning">
                        <h3>–§–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞:</h3>
                        <p>–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–±—Ä–∞–Ω—ã. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –≥—Ä–∞–º–æ—Ç–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ –¶–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
                            –ø–æ–ª—ë—Ç–∞–º–∏. –û—Ç –≤–∞—à–∏—Ö —Ä–µ—à–µ–Ω–∏–π –∑–∞–≤–∏—Å–∏—Ç —Å—É–¥—å–±–∞ —Å—Ç–∞–Ω—Ü–∏–∏ –∏ —ç–∫–∏–ø–∞–∂–∞!</p>
                    </div>

                    <div class="countdown">
                        <div class="countdown-timer" id="mission-countdown">15:00</div>
                        <div class="countdown-label">–î–æ –ø–æ—Ç–µ—Ä–∏ —Å–≤—è–∑–∏ —Å–æ —Å—Ç–∞–Ω—Ü–∏–µ–π</div>
                    </div>

                    <div class="mission-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="mission-progress" style="width: 10%;"></div>
                        </div>
                        <div class="progress-text" id="mission-text">–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏: 10%</div>
                    </div>

                    <div class="game-container">
                        <div class="spaceship-view">
                            <div class="stars"></div>
                            <div class="black-hole" id="black-hole"></div>
                            <div class="space-station" id="space-station">
                                <div class="station-core"></div>
                                <div class="station-ring"></div>
                                <div class="station-dock"></div>
                            </div>
                        </div>

                        <div class="mission-files">
                            <h3>–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</h3>
                            <div class="file-list">
                                <div class="file-item">
                                    <div class="file-info">
                                        <span class="file-name">–õ–æ–≥–∏ –¥–≤–∏–≥–∞—Ç–µ–ª—è (–ø–æ–≤—Ç–æ—Ä—ã)</span>
                                        <span class="file-size">12MB</span>
                                    </div>
                                    <select class="compression-select" onchange="updateMission()">
                                        <option value="0">–ù–µ —Å–∂–∏–º–∞—Ç—å</option>
                                        <option value="40">RLE (40%)</option>
                                        <option value="30">Huffman (30%)</option>
                                        <option value="50">LZW (50%)</option>
                                    </select>
                                </div>

                                <div class="file-item">
                                    <div class="file-info">
                                        <span class="file-name">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —á—ë—Ä–Ω–æ–π –¥—ã—Ä—ã</span>
                                        <span class="file-size">8MB</span>
                                    </div>
                                    <select class="compression-select" onchange="updateMission()">
                                        <option value="0">–ù–µ —Å–∂–∏–º–∞—Ç—å</option>
                                        <option value="45">Huffman (45%)</option>
                                        <option value="35">LZW (35%)</option>
                                    </select>
                                </div>

                                <div class="file-item">
                                    <div class="file-info">
                                        <span class="file-name">–§–æ—Ç–æ —á—ë—Ä–Ω–æ–π –¥—ã—Ä—ã</span>
                                        <span class="file-size">25MB</span>
                                    </div>
                                    <select class="compression-select" onchange="updateMission()">
                                        <option value="0">–ù–µ —Å–∂–∏–º–∞—Ç—å</option>
                                        <option value="60">JPEG (60%)</option>
                                        <option value="70">WebP (70%)</option>
                                    </select>
                                </div>

                                <div class="file-item">
                                    <div class="file-info">
                                        <span class="file-name">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–∞–Ω—É–∞–ª—ã</span>
                                        <span class="file-size">30MB</span>
                                    </div>
                                    <select class="compression-select" onchange="updateMission()">
                                        <option value="0">–ù–µ —Å–∂–∏–º–∞—Ç—å</option>
                                        <option value="55">LZW (55%)</option>
                                        <option value="40">Huffman (40%)</option>
                                    </select>
                                </div>
                            </div>

                            <div class="mission-message" id="mission-message">
                                ‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ! –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å–∂–∞—Ç–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö. –û—à–∏–±–∫–∞ –º–æ–∂–µ—Ç
                                –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ –∂–∏–∑–Ω–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ —Å–æ—Ä–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é —Å–ø–∞—Å–µ–Ω–∏—è!


                            </div>

                            <button class="launch-btn" id="launch-btn" disabled onclick="launchSpaceship()">–ü–µ—Ä–µ–¥–∞—Ç—å
                                –¥–∞–Ω–Ω—ã–µ!</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ç–∞–π–º–µ—Ä
        let globalTimeLeft = 47 * 60; // 47 –º–∏–Ω—É—Ç –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
        const globalCountdown = setInterval(() => {
            globalTimeLeft--;
            const minutes = Math.floor(globalTimeLeft / 60);
            const seconds = globalTimeLeft % 60;
            document.getElementById('global-countdown').textContent =
                `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;

            if (globalTimeLeft <= 0) {
                clearInterval(globalCountdown);
                document.querySelector('.alert-danger').innerHTML += `
                    <div style="margin-top: 10px; color: var(--accent);">
                        –í–†–ï–ú–Ø –í–´–®–õ–û! –°—Ç–∞–Ω—Ü–∏—è "–ú—è—É—Ä–∏–Ω–µ—Ä" –ø–æ—Ç–µ—Ä—è–Ω–∞...
                    </div>
                `;
            }
        }, 1000);

        // –¢–∞–π–º–µ—Ä –¥–ª—è –º–∏—Å—Å–∏–∏
        let missionTimeLeft = 15 * 60; // 15 –º–∏–Ω—É—Ç –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
        const missionCountdown = setInterval(() => {
            missionTimeLeft--;
            const minutes = Math.floor(missionTimeLeft / 60);
            const seconds = missionTimeLeft % 60;
            document.getElementById('mission-countdown').textContent =
                `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;

            if (missionTimeLeft <= 0) {
                clearInterval(missionCountdown);
                document.getElementById('mission-message').innerHTML = `
                    <h3 style="color: var(--danger); margin-top: 0;">–°–≤—è–∑—å –ø–æ—Ç–µ—Ä—è–Ω–∞!</h3>
                    <p>–°—Ç–∞–Ω—Ü–∏—è "–ú—è—É—Ä–∏–Ω–µ—Ä" –Ω–µ —É—Å–ø–µ–ª–∞ –ø–µ—Ä–µ–¥–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ.</p>
                    <button onclick="resetMission()" style="margin-top: 10px;">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                `;
                document.getElementById('mission-message').style.background = 'rgba(255, 0, 0, 0.1)';
                document.getElementById('mission-message').style.borderColor = 'var(--danger)';
                document.getElementById('launch-btn').disabled = true;
            }
        }, 1000);

        function resetMission() {
            missionTimeLeft = 15 * 60;
            document.querySelectorAll('.compression-select').forEach(select => {
                select.value = '0';
            });
            document.getElementById('mission-progress').style.width = '10%';
            document.getElementById('mission-text').textContent = '–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏: 10%';
            document.getElementById('mission-message').textContent =
                '‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ! –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å–∂–∞—Ç–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö.';
            document.getElementById('mission-message').style.background = 'rgba(106, 0, 255, 0.2)';
            document.getElementById('mission-message').style.borderColor = 'var(--secondary)';
            document.getElementById('launch-btn').disabled = true;

            // –°–±—Ä–æ—Å –∞–Ω–∏–º–∞—Ü–∏–∏ –∫–æ—Ä–∞–±–ª—è
            const spaceship = document.getElementById('spaceship');
            spaceship.style.left = '20px';
            spaceship.style.top = '20px';
            spaceship.style.width = '80px';
            spaceship.style.height = '40px';
            spaceship.style.transform = 'rotate(45deg)';
            document.querySelectorAll('.trail').forEach(el => el.remove());
            document.querySelectorAll('.engine-fire').forEach(el => el.remove());
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

                tab.classList.add('active');
                document.getElementById(tab.dataset.tab).classList.add('active');
            });
        });

        // RLE
        function runRLE() {
            const input = document.getElementById('rle-input').value;
            if (!input) {
                document.getElementById('rle-result').textContent = "–í–≤–µ–¥–∏—Ç–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–∞—Ç—á–∏–∫–æ–≤";
                return;
            }

            let result = '';
            let count = 1;

            for (let i = 1; i <= input.length; i++) {
                if (i < input.length && input[i] === input[i - 1]) {
                    count++;
                } else {
                    result += (count > 1 ? count : '') + input[i - 1];
                    count = 1;
                }
            }

            const originalSize = input.length;
            const compressedSize = result.length;
            const ratio = (originalSize / compressedSize).toFixed(2);

            document.getElementById('rle-result').textContent =
                `–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: ${result}\n` +
                `–ò—Å—Ö–æ–¥–Ω—ã–π —Ä–∞–∑–º–µ—Ä: ${originalSize} —Å–∏–º–≤–æ–ª–æ–≤\n` +
                `–°–∂–∞—Ç—ã–π —Ä–∞–∑–º–µ—Ä: ${compressedSize} —Å–∏–º–≤–æ–ª–æ–≤\n` +
                `–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–∂–∞—Ç–∏—è: ${ratio}:1\n\n` +
                `‚úÖ –õ–æ–≥–∏ –¥–∞—Ç—á–∏–∫–æ–≤ —É—Å–ø–µ—à–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!`;
        }

        // –•–∞—Ñ—Ñ–º–∞–Ω
        function addHuffmanRow() {
            const container = document.getElementById('huffman-inputs');
            const div = document.createElement('div');
            div.style.display = 'flex';
            div.style.gap = '15px';
            div.style.marginBottom = '15px';
            div.innerHTML = `
                <input type="text" placeholder="–°–∏–º–≤–æ–ª" maxlength="1" class="huffman-char">
                <input type="number" placeholder="–ß–∞—Å—Ç–æ—Ç–∞" min="1" class="huffman-freq">
            `;
            container.appendChild(div);
        }

        function buildHuffmanTree() {
            const chars = [];
            const freqs = [];

            document.querySelectorAll('.huffman-char').forEach((input, i) => {
                const freqInput = document.querySelectorAll('.huffman-freq')[i];
                if (input.value && freqInput.value) {
                    chars.push(input.value);
                    freqs.push(parseInt(freqInput.value));
                }
            });

            if (chars.length < 2) {
                alert('–î–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–µ—Ä–µ–≤–∞ –Ω—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞!');
                return;
            }

            let nodes = chars.map((char, i) => ({
                type: 'leaf',
                char: char,
                freq: freqs[i],
                code: ''
            })).sort((a, b) => a.freq - b.freq);

            while (nodes.length > 1) {
                const left = nodes.shift();
                const right = nodes.shift();

                const newNode = {
                    type: 'node',
                    freq: left.freq + right.freq,
                    left: left,
                    right: right,
                    code: ''
                };

                let insertIndex = 0;
                while (insertIndex < nodes.length && nodes[insertIndex].freq < newNode.freq) {
                    insertIndex++;
                }
                nodes.splice(insertIndex, 0, newNode);
            }

            const root = nodes[0];

            function assignCodes(node, code) {
                node.code = code;
                if (node.left) assignCodes(node.left, code + '0');
                if (node.right) assignCodes(node.right, code + '1');
            }
            assignCodes(root, '');

            window.huffmanTreeRoot = root;

            visualizeTree(root);
            showSymbolCodes(root);
        }

        function visualizeTree(root) {
            const container = document.getElementById('huffman-tree-container');
            container.innerHTML = '';

            function drawNode(node, level, pos, parentPos) {
                if (!node) return;

                const nodeEl = document.createElement('div');
                nodeEl.className = `tree-node ${node.type}`;
                nodeEl.textContent = node.type === 'leaf'
                    ? `${node.char}:${node.freq}`
                    : node.freq;

                nodeEl.style.left = `${pos}px`;
                nodeEl.style.top = `${level * 100}px`;
                container.appendChild(nodeEl);

                if (parentPos !== undefined) {
                    const line = document.createElement('div');
                    line.className = 'tree-connector';
                    const left = Math.min(pos, parentPos) + 25;
                    const width = Math.abs(pos - parentPos);
                    line.style.cssText = `
                        left: ${left}px;
                        top: ${level * 100 - 20}px;
                        width: ${width}px;
                    `;
                    container.appendChild(line);
                }

                drawNode(node.left, level + 1, pos - (200 / (level + 1)), pos);
                drawNode(node.right, level + 1, pos + (200 / (level + 1)), pos);
            }

            drawNode(root, 0, 400);
        }

        function showSymbolCodes(root) {
            const codes = {};
            function traverse(node) {
                if (node.type === 'leaf') {
                    codes[node.char] = node.code;
                } else {
                    if (node.left) traverse(node.left);
                    if (node.right) traverse(node.right);
                }
            }
            traverse(root);

            let codesText = '–ö–æ–¥—ã —Å–∏–º–≤–æ–ª–æ–≤:\n';
            for (const [char, code] of Object.entries(codes)) {
                codesText += `${char} = ${code}\n`;
            }
            document.getElementById('huffman-codes').textContent = codesText;
        }

        function encodeHuffmanText() {
            const text = document.getElementById('huffman-text').value;
            if (!text) {
                document.getElementById('huffman-text-result').textContent = "–í–≤–µ–¥–∏—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è";
                return;
            }

            if (!window.huffmanTreeRoot) {
                document.getElementById('huffman-text-result').textContent = "–°–Ω–∞—á–∞–ª–∞ –ø–æ—Å—Ç—Ä–æ–π—Ç–µ –¥–µ—Ä–µ–≤–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è!";
                return;
            }

            const codes = {};
            function collectCodes(node) {
                if (node.type === 'leaf') {
                    codes[node.char] = node.code;
                } else {
                    if (node.left) collectCodes(node.left);
                    if (node.right) collectCodes(node.right);
                }
            }
            collectCodes(window.huffmanTreeRoot);

            let result = '';
            for (const char of text) {
                if (codes[char]) {
                    result += codes[char] + ' ';
                } else {
                    result += `[${char}?] `;
                }
            }

            const originalSize = text.length * 8;
            const compressedSize = result.trim().split(' ').reduce((acc, code) => acc + code.length, 0);
            const ratio = (originalSize / compressedSize).toFixed(2);

            document.getElementById('huffman-text-result').textContent =
                `–ó–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:\n${result.trim()}\n\n` +
                `–ò—Å—Ö–æ–¥–Ω—ã–π —Ä–∞–∑–º–µ—Ä: ~${originalSize} –±–∏—Ç\n` +
                `–°–∂–∞—Ç—ã–π —Ä–∞–∑–º–µ—Ä: ${compressedSize} –±–∏—Ç\n` +
                `–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–∂–∞—Ç–∏—è: ${ratio}:1\n\n` +
                `‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏!`;
        }

        // LZW
        function runLZW() {
            const input = document.getElementById('lzw-input').value;
            if (!input) {
                document.getElementById('lzw-result').textContent = "–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏";
                return;
            }

            const dictionary = {};
            for (let i = 0; i < 256; i++) {
                dictionary[String.fromCharCode(i)] = i;
            }
            let nextCode = 256;

            const russianLetters = '–ê–ë–í–ì–î–ï–Å–ñ–ó–ò–ô–ö–õ–ú–ù–û–ü–†–°–¢–£–§–•–¶–ß–®–©–™–´–¨–≠–Æ–Ø–∞–±–≤–≥–¥–µ—ë–∂–∑–∏–π–∫–ª–º–Ω–æ–ø—Ä—Å—Ç—É—Ñ—Ö—Ü—á—à—â—ä—ã—å—ç—é—è';
            for (const char of russianLetters) {
                dictionary[char] = nextCode++;
            }

            let current = "";
            const result = [];
            const dictEntries = [];

            for (const char of input) {
                const combined = current + char;
                if (dictionary.hasOwnProperty(combined)) {
                    current = combined;
                } else {
                    result.push(dictionary[current]);
                    dictionary[combined] = nextCode++;
                    dictEntries.push(`${dictionary[combined]} = ${combined}`);
                    current = char;
                }
            }

            if (current) {
                result.push(dictionary[current]);
            }

            document.getElementById('lzw-result').textContent =
                `–°–∂–∞—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ: ${result.join(' ')}\n` +
                `–ò—Å—Ö–æ–¥–Ω—ã–π —Ä–∞–∑–º–µ—Ä: ${input.length} —Å–∏–º–≤–æ–ª–æ–≤\n` +
                `–°–∂–∞—Ç—ã–π —Ä–∞–∑–º–µ—Ä: ${result.length} –∫–æ–¥–æ–≤\n` +
                `–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–∂–∞—Ç–∏—è: ${(input.length / result.length).toFixed(2)}:1\n\n` +
                `‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–∞–Ω—É–∞–ª—ã —É—Å–ø–µ—à–Ω–æ —Å–∂–∞—Ç—ã!`;

            document.getElementById('lzw-dict').textContent =
                '–ù–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ —Å–ª–æ–≤–∞—Ä—è:\n' + dictEntries.join('\n');
        }

        // –°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        function compressImage() {
            const fileInput = document.getElementById('image-upload');
            const compressionType = document.getElementById('compression-type').value;

            if (!fileInput.files || fileInput.files.length === 0) {
                document.getElementById('image-result').textContent = "–í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á—ë—Ä–Ω–æ–π –¥—ã—Ä—ã";
                return;
            }

            const file = fileInput.files[0];
            let originalSize = Math.round(file.size / 1024);
            let compressedSize;
            let quality;

            switch (compressionType) {
                case 'png':
                    compressedSize = Math.round(originalSize * 0.6);
                    quality = "–±–µ–∑ –ø–æ—Ç–µ—Ä—å (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è —Å—Ö–µ–º)";
                    break;
                case 'jpeg':
                    compressedSize = Math.round(originalSize * 0.2);
                    quality = "—Å –ø–æ—Ç–µ—Ä—è–º–∏ (–ª—É—á—à–µ –¥–ª—è —Ñ–æ—Ç–æ)";
                    break;
                case 'webp':
                    compressedSize = Math.round(originalSize * 0.35);
                    quality = "–±–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Ä–∞–∑–º–µ—Ä–∞";
                    break;
                default:
                    compressedSize = originalSize;
                    quality = "–±–µ–∑ —Å–∂–∞—Ç–∏—è";
            }

            document.getElementById('image-result').textContent =
                `–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ${compressionType.toUpperCase()} (${quality}).\n` +
                `–†–∞–∑–º–µ—Ä —É–º–µ–Ω—å—à–µ–Ω —Å ${originalSize}KB –¥–æ ${compressedSize}KB\n` +
                `–≠–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞: ${Math.round((1 - compressedSize / originalSize) * 100)}%\n\n` +
                `‚úÖ –§–æ—Ç–æ —á—ë—Ä–Ω–æ–π –¥—ã—Ä—ã –≥–æ—Ç–æ–≤–æ –∫ –ø–µ—Ä–µ–¥–∞—á–µ!`;
        }

        // –ò–≥—Ä–∞
        function updateMission() {
            let totalSaved = 0;
            const selects = document.querySelectorAll('.compression-select');

            selects.forEach(select => {
                totalSaved += parseInt(select.value);
            });

            const progress = Math.min(100, 10 + totalSaved * 0.9);

            document.getElementById('mission-progress').style.width = `${progress}%`;
            document.getElementById('mission-text').textContent = `–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏: ${Math.round(progress)}%`;

            const message = document.getElementById('mission-message');
            const launchBtn = document.getElementById('launch-btn');

            if (totalSaved === 0) {
                message.textContent = '–í—ã–±–µ—Ä–∏—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å–∂–∞—Ç–∏—è –¥–ª—è —Ñ–∞–π–ª–æ–≤!';
                message.style.background = 'rgba(255, 0, 0, 0.1)';
                message.style.borderColor = 'var(--danger)';
                launchBtn.disabled = true;
            }
            else if (progress >= 80) {
                message.textContent = '–û—Ç–ª–∏—á–Ω–æ! –î–∞–Ω–Ω—ã–µ –≥–æ—Ç–æ–≤—ã –∫ –ø–µ—Ä–µ–¥–∞—á–µ! üöÄ';
                message.style.background = 'rgba(0, 255, 170, 0.1)';
                message.style.borderColor = 'var(--success)';
                launchBtn.disabled = false;
            }
            else if (progress >= 50) {
                message.textContent = '–•–æ—Ä–æ—à–æ, –Ω–æ –º–æ–∂–Ω–æ —Å–∂–∞—Ç—å –µ—â—ë –ª—É—á—à–µ!';
                message.style.background = 'rgba(255, 143, 0, 0.1)';
                message.style.borderColor = 'var(--warning)';
                launchBtn.disabled = true;
            }
            else {
                message.textContent = '–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã!';
                message.style.background = 'rgba(255, 0, 0, 0.1)';
                message.style.borderColor = 'var(--danger)';
                launchBtn.disabled = true;
            }
        }

        function launchSpaceship() {
            const spaceship = document.getElementById('spaceship');
            const station = document.getElementById('space-station');
            const viewport = document.querySelector('.spaceship-view');

            // –°–æ–∑–¥–∞–µ–º –±—É–∫—Å–∏—Ä–æ–≤–æ—á–Ω—ã–π –∫–æ—Ä–∞–±–ª—å
            const tug = document.createElement('div');
            tug.className = 'spaceship-tug';
            viewport.appendChild(tug);

            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–¥–ª–µ—Ç–∞ –±—É–∫—Å–∏—Ä–∞
            setTimeout(() => {
                tug.style.right = '150px';

                // –ü–æ—Å–ª–µ –ø–æ–¥–ª–µ—Ç–∞ –±—É–∫—Å–∏—Ä–∞
                setTimeout(() => {
                    // –ê–Ω–∏–º–∞—Ü–∏—è –æ—Ç–±—É–∫—Å–∏—Ä–æ–≤–∫–∏ —Å—Ç–∞–Ω—Ü–∏–∏
                    station.style.transition = 'transform 5s ease-in-out';
                    station.style.transform = 'translateX(-300px) translateY(-150px)';

                    // –ê–Ω–∏–º–∞—Ü–∏—è –≤–∑—Ä—ã–≤–∞ —á–µ—Ä–Ω–æ–π –¥—ã—Ä—ã
                    const blackHole = document.getElementById('black-hole');
                    blackHole.style.animation = 'black-hole-explode 2s forwards';

                    // –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
                    setTimeout(() => {
                        showRescueSuccess();
                    }, 3000);
                }, 3000);
            }, 1000);
        }

        function showRescueSuccess() {
            const rescueEffect = document.createElement('div');
            rescueEffect.className = 'rescue-success';
            rescueEffect.innerHTML = `
        <h2>–ú–ò–°–°–ò–Ø –í–´–ü–û–õ–ù–ï–ù–ê!</h2>
        <p>–°—Ç–∞–Ω—Ü–∏—è "–ú—è—É—Ä–∏–Ω–µ—Ä" —É—Å–ø–µ—à–Ω–æ –æ—Ç–±—É–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –∏–∑ –æ–ø–∞—Å–Ω–æ–π –∑–æ–Ω—ã!</p>
    `;
            document.querySelector('.spaceship-view').appendChild(rescueEffect);

            // –ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
            celebrateRescue();
        }
        function celebrateRescue() {
            const viewport = document.querySelector('.spaceship-view');

            // –°–æ–∑–¥–∞—ë–º –∑–≤—ë–∑–¥–Ω—ã–π –¥–æ–∂–¥—å
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const star = document.createElement('div');
                    star.style.position = 'absolute';
                    star.style.width = '4px';
                    star.style.height = '4px';
                    star.style.background = 'white';
                    star.style.borderRadius = '50%';
                    star.style.boxShadow = '0 0 10px white';
                    star.style.left = `${Math.random() * 100}%`;
                    star.style.top = '0';

                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø–∞–¥–µ–Ω–∏—è
                    const animationName = `fall-${i}`;
                    const keyframes = `
                @keyframes ${animationName} {
                    to { 
                        transform: translateY(${viewport.offsetHeight}px);
                        opacity: 0;
                    }
                }
            `;

                    const style = document.createElement('style');
                    style.innerHTML = keyframes;
                    document.head.appendChild(style);

                    star.style.animation = `${animationName} ${Math.random() * 2 + 1}s linear forwards`;
                    viewport.appendChild(star);

                    setTimeout(() => star.remove(), 2000);
                }, i * 100);
            }

            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–ª–∞–Ω–µ—Ç—ã
            const planet = document.getElementById('planet');
            const planetAnimation = `
        @keyframes planet-celebrate {
            0% { transform: scale(1); box-shadow: 0 0 0 var(--primary); }
            100% { transform: scale(1.1); box-shadow: 0 0 30px var(--success); }
        }
    `;
            const planetStyle = document.createElement('style');
            planetStyle.innerHTML = planetAnimation;
            document.head.appendChild(planetStyle);
            planet.style.animation = 'planet-celebrate 2s infinite alternate';

            // –ü—Ä—è—á–µ–º —á—ë—Ä–Ω—É—é –¥—ã—Ä—É
            const blackHole = document.getElementById('black-hole');
            const blackHoleAnimation = `
        @keyframes black-hole-disappear {
            to { transform: scale(0); opacity: 0; }
        }
    `;
            const blackHoleStyle = document.createElement('style');
            blackHoleStyle.innerHTML = blackHoleAnimation;
            document.head.appendChild(blackHoleStyle);
            blackHole.style.animation = 'black-hole-disappear 1.5s forwards';
        }
        let compressedImageBlob = null;

// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º –ø–æ–ª–∑—É–Ω–æ–∫ –∫–∞—á–µ—Å—Ç–≤–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞
document.getElementById('compression-type').addEventListener('change', function() {
    const qualityContainer = document.getElementById('quality-container');
    if (this.value === 'png') {
        qualityContainer.classList.add('hidden');
    } else {
        qualityContainer.classList.remove('hidden');
    }
});

// –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞
document.getElementById('quality').addEventListener('input', function() {
    document.getElementById('quality-value').textContent = `${this.value}%`;
});

function compressImage() {
    const fileInput = document.getElementById('image-upload');
    const compressionType = document.getElementById('compression-type').value;
    const quality = parseInt(document.getElementById('quality').value) / 100;
    
    if (!fileInput.files || fileInput.files.length === 0) {
        document.getElementById('image-result').textContent = "–í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á—ë—Ä–Ω–æ–π –¥—ã—Ä—ã";
        return;
    }

    const file = fileInput.files[0];
    const reader = new FileReader();

    reader.onload = function(e) {
        const img = new Image();
        img.onload = function() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            const originalPreview = document.getElementById('original-preview');
            originalPreview.innerHTML = '';
            const originalImg = document.createElement('img');
            originalImg.src = e.target.result;
            originalPreview.appendChild(originalImg);
            
            document.getElementById('original-size').textContent = 
                `–†–∞–∑–º–µ—Ä: ${formatFileSize(file.size)}`;

            // –°–æ–∑–¥–∞–µ–º canvas –¥–ª—è —Å–∂–∞—Ç–∏—è
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = img.width;
            canvas.height = img.height;
            ctx.drawImage(img, 0, 0);

            // –°–∂–∏–º–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            canvas.toBlob(function(blob) {
                compressedImageBlob = blob;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–∂–∞—Ç–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                const compressedPreview = document.getElementById('compressed-preview');
                compressedPreview.innerHTML = '';
                const compressedImg = document.createElement('img');
                compressedImg.src = URL.createObjectURL(blob);
                compressedPreview.appendChild(compressedImg);
                
                document.getElementById('compressed-size').textContent = 
                    `–†–∞–∑–º–µ—Ä: ${formatFileSize(blob.size)}`;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                document.getElementById('image-result').textContent =
                    `–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ${compressionType.toUpperCase()}.\n` +
                    `–†–∞–∑–º–µ—Ä —É–º–µ–Ω—å—à–µ–Ω —Å ${formatFileSize(file.size)} –¥–æ ${formatFileSize(blob.size)}\n` +
                    `–≠–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞: ${Math.round((1 - blob.size / file.size) * 100)}%\n\n` +
                    `‚úÖ –§–æ—Ç–æ —á—ë—Ä–Ω–æ–π –¥—ã—Ä—ã –≥–æ—Ç–æ–≤–æ –∫ –ø–µ—Ä–µ–¥–∞—á–µ!`;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
                document.getElementById('result-container').classList.remove('hidden');
                
            }, `image/${compressionType}`, compressionType === 'png' ? undefined : quality);
        };
        img.src = e.target.result;
    };
    reader.readAsDataURL(file);
}

function downloadCompressedImage() {
    if (!compressedImageBlob) return;
    
    const compressionType = document.getElementById('compression-type').value;
    const url = URL.createObjectURL(compressedImageBlob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `compressed_image.${compressionType}`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
}

function formatFileSize(bytes) {
    if (bytes < 1024) return `${bytes} –±–∞–π—Ç`;
    else if (bytes < 1048576) return `${(bytes / 1024).toFixed(1)} KB`;
    else return `${(bytes / 1048576).toFixed(1)} MB`;
}
    </script>
</body>

</html>